{
  "pluginAlias": "VolvoEX30",
  "pluginType": "platform",
  "singular": false,
  "customUi": true,
  "headerDisplay": "ðŸš— **Volvo EX30 Plugin** - Connect your EX30 to HomeKit with comprehensive vehicle monitoring including battery, doors, windows, locks, climate control, and diagnostics. [Custom Configuration UI Available]",
  "footerDisplay": "ðŸ’¡ **Tip**: Use the custom configuration interface above for easy OAuth setup, or configure manually using the form below. The Connected Vehicle API provides much richer data than the Energy API.",
  "schema": {
    "type": "object",
    "properties": {
      "name": {
        "title": "Platform Name",
        "type": "string",
        "default": "Volvo EX30",
        "required": true
      },
      "vin": {
        "title": "Vehicle Identification Number (VIN)",
        "type": "string",
        "required": true,
        "description": "17-character VIN of your Volvo EX30"
      },
      "clientId": {
        "title": "Volvo API Client ID",
        "type": "string",
        "required": true,
        "description": "Client ID from Volvo Developer Portal"
      },
      "clientSecret": {
        "title": "Volvo API Client Secret",
        "type": "string",
        "required": true,
        "description": "Client Secret from Volvo Developer Portal"
      },
      "vccApiKey": {
        "title": "VCC API Key",
        "type": "string",
        "required": true,
        "description": "Primary or Secondary VCC API Key from Volvo Developer Portal"
      },
      "initialRefreshToken": {
        "title": "Initial Refresh Token",
        "type": "string",
        "required": false,
        "description": "Initial OAuth refresh token for first-time setup (plugin manages tokens automatically after initial setup)"
      },
      "region": {
        "title": "Region",
        "type": "string",
        "default": "eu",
        "enum": ["eu", "na"],
        "enumNames": ["Europe/Middle East/Africa", "North America/Latin America"],
        "description": "Your vehicle's region"
      },
      "pollingInterval": {
        "title": "Polling Interval (minutes)",
        "type": "integer",
        "default": 5,
        "minimum": 1,
        "maximum": 60,
        "description": "How often to check vehicle status (respects API rate limits)"
      },
      "enableBattery": {
        "title": "Enable Battery Service",
        "type": "boolean",
        "default": true,
        "description": "Show battery level and charging status"
      },
      "enableClimate": {
        "title": "Enable Climate Service",
        "type": "boolean",
        "default": true,
        "description": "Show climate control (requires Connected Vehicle API)"
      },
      "enableLocks": {
        "title": "Enable Lock Service",
        "type": "boolean",
        "default": true,
        "description": "Show door lock status and control (requires Connected Vehicle API)"
      },
      "enableDoors": {
        "title": "Enable Door & Window Sensors",
        "type": "boolean",
        "default": true,
        "description": "Show individual door and window status sensors (requires Connected Vehicle API)"
      },
      "enableDiagnostics": {
        "title": "Enable Diagnostic Sensors",
        "type": "boolean",
        "default": true,
        "description": "Show service warnings, odometer, and tyre pressure sensors"
      },
      "apiPreference": {
        "title": "API Preference",
        "type": "string",
        "default": "connected-first",
        "enum": ["connected-first", "energy-first", "connected-only", "energy-only"],
        "enumNames": ["Connected Vehicle First (Recommended)", "Energy API First", "Connected Vehicle Only", "Energy API Only"],
        "description": "Which API to prefer for vehicle data. Connected Vehicle API provides much richer data."
      }
    }
  },
  "layout": [
    {
      "type": "fieldset",
      "title": "Vehicle Configuration",
      "items": [
        "name",
        "vin",
        "region"
      ]
    },
    {
      "type": "fieldset",
      "title": "Volvo API Credentials",
      "items": [
        "clientId",
        "clientSecret",
        "vccApiKey",
        "initialRefreshToken"
      ]
    },
    {
      "type": "fieldset",
      "title": "Feature Settings",
      "items": [
        "pollingInterval",
        "apiPreference",
        "enableBattery",
        "enableClimate",
        "enableLocks",
        "enableDoors",
        "enableDiagnostics"
      ]
    }
  ]
}